## Теория
**IndexedDB** — это встроенное в браузеры клиентское хранилище на основе базы данных с индексами и возможностью выполнения асинхронных операций. В отличие от `localStorage` (где данные хранятся в формате ключ-значение в виде строк), IndexedDB позволяет:

- **Хранить большие объёмы** данных (десятки и даже сотни мегабайт в зависимости от браузера),
- **Работать с транзакциями**,
- **Создавать индексы** и выполнять более сложные выборки,
- **Хранить** не только строки, но и объекты, бинарные данные и более сложные структуры.

### Основные плюсы IndexedDB:
1. **Большой объём хранения** — нет жёсткого лимита в 5 МБ, как у `localStorage`.
2. **Удобная структура** — можно создавать объектные хранилища (аналог таблиц) и индексы, что облегчает поиск и фильтрацию данных.
3. **Асинхронная работа** — операции не блокируют главный поток.
4. **Гибкость** — можно хранить сложные объекты без ручного преобразования в JSON.

### Недостатки IndexedDB:
1. **Сложнее в использовании** — API IndexedDB более громоздко и требует работы с транзакциями и событиями.
2. **Сложность отладки** — не всегда очевидно смотреть структуру в девтулзах, особенно в Safari.
3. **Поддержка старых браузеров** — в очень старых версиях может не работать или работать с префиксами, но большинство современных браузеров уже поддерживают.

### Когда и почему стоит предпочесть IndexedDB вместо localStorage
- Когда нужно **хранить много данных** (больше 5 МБ).
- Когда требуется **сложный поиск и фильтрация** (индексы и ключи в IndexedDB).
- Когда важно работать с **структурированными данными** (объекты, бинарные файлы).
- Когда нужна **безопасность** и **транзакционность** (чтобы операции не прерывались и не вели к нек konsистентности).

Если требуется просто хранить пару настроек или флажков, `localStorage` может быть проще. Но если нужно кэшировать офлайн-данные или оперировать большим объёмом информации, IndexedDB — правильный выбор.

